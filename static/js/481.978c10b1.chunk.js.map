{"version":3,"file":"static/js/481.978c10b1.chunk.js","mappings":"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","sources":["components/Filter/Filter.styled.jsx","components/Filter/Filter.jsx","pages/CatalogPage/CatalogPage.styled.jsx","redux/filter/selectors.js","components/Loader/Loader.jsx","pages/CatalogPage/CatalogPage.jsx","helpers/getFildered.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  width: 100%;\n  width: 360px;\n\n  /* display: block; */\n  /* justify-content: center; */\n\n  padding: 0 63px;\n`;\nexport const Form = styled.form`\n  margin-top: 60px;\n  display: flex;\n  flex-direction: column;\n\n  /* & > :nth-child(4) {\n    margin-top: 32px;\n  } */\n\n  hr {\n    background-color: rgba(16, 24, 40, 0.1);\n    display: block;\n    margin: 24px 0;\n    opacity: 0.2;\n  }\n`;\nexport const Label = styled.label`\n  position: relative;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n  font-weight: 500;\n  color: rgba(16, 24, 40, 0.6);\n\n  svg {\n    position: absolute;\n    width: 18px;\n    height: 20px;\n    left: 18px;\n    top: 45px;\n    fill: none;\n    stroke: #101828;\n  }\n\n  input {\n    padding: 18px;\n    padding-left: 44px;\n    background-color: #f7f7f7;\n    color: #101828;\n    font-family: Inter;\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 1.25;\n    border-radius: 10px;\n    border: none;\n\n    &::placeholder {\n      color: rgba(16, 24, 40, 0.6);\n    }\n  }\n`;\n\nexport const P = styled.p`\n  margin-bottom: 15px;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 150%;\n`;\nexport const H2 = styled.h2`\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 150%;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 24px;\n  color: #101828;\n\n  &:last-of-type {\n    margin-top: 32px;\n  }\n`;\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px 10px;\n  /* padding: 16px; */\n`;\n\nexport const Input = styled.div`\n  position: relative;\n  display: flex;\n  width: 112px;\n  height: 95px;\n  align-items: center;\n  justify-content: center;\n  width: calc((100% - 2 * 10px) / 3);\n  border-radius: 10px;\n  cursor: pointer;\n\n  input {\n    width: 112px;\n    height: 80px;\n    /* padding: 15px; */\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    transition: border 150ms linear;\n    padding: 0 20px;\n\n    &:checked + div {\n      border: 1px solid #e44848;\n    }\n  }\n`;\nexport const Icon = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 125%;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  gap: 3px;\n  color: #101828;\n  border: 1px solid #101828;\n  border-radius: 10px;\n  padding: 0 10px;\n\n  svg {\n    height: 40px;\n    padding: 0;\n  }\n`;\nexport const Btn = styled.button`\n  border-radius: 200px;\n  padding: 16px 60px;\n  width: 173px;\n  height: 56px;\n  margin: 63px 0;\n  background-color: #e44848;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 150%;\n  letter-spacing: -0.01em;\n  color: #fff;\n`;\n","// import React, { useState } from 'react';\nimport sprite from '../../image/icons.svg';\nimport {\n  Container,\n  Label,\n  Form,\n  P,\n  H2,\n  Wrapper,\n  Input,\n  Icon,\n  Btn,\n} from './Filter.styled';\n\nexport const Filter = () => {\n  // const [location, setLocation] = useState('');\n  // const [detalis, setDetalis] = useState({\n  //   ac: false,\n  //   automatic: false,\n  //   kitchen: false,\n  //   tv: false,\n  //   shower: false,\n  // });\n  const vehicleEquipment = [\n    {\n      value: 'ac',\n      icon: 'icon-ac',\n      text: 'AC',\n    },\n    {\n      value: 'automatic',\n      icon: 'icon-automatic',\n      text: 'Automatic',\n    },\n    {\n      value: 'kitchen',\n      icon: 'icon-kitchen',\n      text: 'Kitchen',\n    },\n    {\n      value: 'tv',\n      icon: 'icon-tv',\n      text: 'TV',\n    },\n    {\n      value: 'shower',\n      icon: 'icon-shower',\n      text: 'Shower/WC',\n    },\n  ];\n\n  const vehicleType = [\n    {\n      value: 'van',\n      icon: 'icon-van',\n      text: 'Van',\n    },\n    {\n      value: 'fullyIntegrated',\n      icon: 'icon-fully',\n      text: 'Fully Integrated',\n    },\n    {\n      value: 'alcove',\n      icon: 'icon-alcove',\n      text: 'Alcove',\n    },\n  ];\n\n  return (\n    <Container>\n      <Form>\n        <Label>\n          Location\n          <svg width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentColor\">\n            <use href={`${sprite}#icon-location`} />\n          </svg>\n          <input\n            type=\"text\"\n            name=\"location\"\n            // value={location}\n            placeholder=\"City\"\n          />\n        </Label>\n        <P>Filters</P>\n        <H2>Vehicle equipment</H2>\n        <hr />\n        <Wrapper>\n          {vehicleEquipment.map(({ value, icon, text }) => (\n            <Input key={value}>\n              <input\n                type=\"checkbox\"\n                name={value}\n                value={value}\n                // checked={detalis[value]}\n              />\n              <Icon>\n                <svg width=\"32\" fill=\"none\" stroke=\"currentColor\">\n                  <use href={`${sprite}#${icon}`} />\n                </svg>\n                {text}\n              </Icon>\n            </Input>\n          ))}\n        </Wrapper>\n        <H2>Vehicle type</H2>\n        <hr />\n        <div>\n          <Wrapper>\n            {vehicleType.map(({ value, icon, text }) => (\n              <Input key={value}>\n                <input\n                  type=\"checkbox\"\n                  name={value}\n                  value={value}\n                  // checked={detalis[value]}\n                />\n                <Icon>\n                  <svg width=\"32\" fill=\"none\" stroke=\"currentColor\">\n                    <use href={`${sprite}#${icon}`} />\n                  </svg>\n                  {text}\n                </Icon>\n              </Input>\n            ))}\n          </Wrapper>\n        </div>\n        <Btn>Search</Btn>\n      </Form>\n    </Container>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  /* max-width: 100%; */\n  /* min-width: 1440px;\n  min-height: 100vh;\n\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n\n  height: calc(100vh - 65px);\n  margin: 0 auto; */\n  display: flex;\n`;\n","export const selectFilter = state => state.filter;\n","import React from 'react';\nimport { Oval } from 'react-loader-spinner';\n// import { LoaderContainer } from './Loader.styled';\n\nconst Loader = () => {\n  return (\n    <div>\n      <Oval\n        height=\"100\"\n        width=\"100\"\n        color=\"#E44848\"\n        ariaLabel=\"oval-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible={true}\n      />\n      {/* </LoaderContainer> */}\n    </div>\n  );\n};\nexport default Loader;\n","// import { AdvertList } from '../../components/AdvertList/AdvertList';\nimport { Filter } from '../../components/Filter/Filter';\nimport { Container } from './CatalogPage.styled';\nimport { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { animateScroll } from 'react-scroll';\nimport { getAllAdverts } from '../../redux/adverts/operations';\nimport {\n  selectAdverts,\n  selectError,\n  selectIsLoading,\n} from '../../redux/adverts/selectors';\nimport AdvertListItem from '../../components/AdvertListItem/AdvertListItem';\nimport { selectFilter } from '../../redux/filter/selectors';\nimport { getFilteredAdverts } from '../../helpers/getFildered';\nimport { filterUse } from '../../redux/filter/filterSlise';\nimport Loader from '../../components/Loader/Loader';\n\nconst CatalogPage = () => {\n  const dispatch = useDispatch();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoadMore, setIsLoadMore] = useState(true);\n\n  const filters = useSelector(selectFilter);\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n  const allAdverts = useSelector(selectAdverts);\n\n  const advertsRef = useRef(null);\n\n  useEffect(() => {\n    dispatch(getAllAdverts({ page: currentPage, limit: 12 }));\n  }, [currentPage, dispatch]);\n\n  const filteredAdverts = getFilteredAdverts(allAdverts, filters);\n\n  const handleLoadMore = () => {\n    setCurrentPage(prev => prev + 1);\n\n    const options = {\n      duration: 1500,\n      smooth: true,\n    };\n\n    animateScroll.scrollTo(advertsRef.current.offsetTop, options);\n  };\n  useEffect(() => {\n    if (\n      filteredAdverts.length < currentPage * 4 ||\n      (filteredAdverts.length % 4 !== 0 &&\n        currentPage * 4 >= filteredAdverts.length)\n    ) {\n      setIsLoadMore(false);\n    } else {\n      setIsLoadMore(true);\n    }\n  }, [filteredAdverts, currentPage]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(filterUse({ location: '', details: {}, forms: '' }));\n    };\n  }, [dispatch]);\n  return (\n    <Container>\n      {isLoading && <Loader />}\n      {error && <p>Error: {error}</p>}\n      <Filter />\n      <ul>\n        {filteredAdverts.length > 0 ? (\n          filteredAdverts.slice(0, currentPage * 4).map(advert => (\n            <li key={advert._id}>\n              <AdvertListItem advert={advert} ref={advertsRef} />\n            </li>\n          ))\n        ) : (\n          <p>Non</p>\n        )}\n      </ul>\n\n      {isLoadMore && !isLoading && (\n        <btn type=\"button\" onClick={handleLoadMore}>\n          Load More\n        </btn>\n      )}\n    </Container>\n  );\n};\n\nexport default CatalogPage;\n","export const getFilteredAdverts = (allAdverts, filters) => {\n  if (\n    Object.values(filters.details).every(el => Boolean(el) === false) &&\n    !filters.location &&\n    !filters.forms\n  ) {\n    return allAdverts;\n  }\n\n  return allAdverts.filter(advert => {\n    if (\n      filters.location &&\n      !advert.location.toLowerCase().includes(filters.location.toLowerCase())\n    ) {\n      return false;\n    }\n\n    const { airConditioner, automatic, kitchen, TV, shower } = filters.details;\n    if (\n      (airConditioner && (!advert.details || !advert.details.airConditioner)) ||\n      (automatic && advert.transmission !== 'automatic') ||\n      (kitchen && (!advert.details || !advert.details.kitchen)) ||\n      (TV && (!advert.details || !advert.details.TV)) ||\n      (shower && (!advert.details || !advert.details.shower))\n    ) {\n      return false;\n    }\n\n    return !(filters.forms && advert.form !== filters.forms);\n  });\n};\n"],"names":["Container","styled","_templateObject","_taggedTemplateLiteral","Form","_templateObject2","Label","_templateObject3","P","_templateObject4","H2","_templateObject5","Wrapper","_templateObject6","Input","_templateObject7","Icon","_templateObject8","Btn","_templateObject9","Filter","_jsx","children","_jsxs","width","height","fill","stroke","href","concat","sprite","type","name","placeholder","value","icon","text","map","_ref","_ref2","selectFilter","state","filter","Oval","color","ariaLabel","wrapperStyle","wrapperClass","visible","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","isLoadMore","setIsLoadMore","filters","useSelector","isLoading","selectIsLoading","error","selectError","allAdverts","selectAdverts","advertsRef","useRef","useEffect","getAllAdverts","page","limit","filteredAdverts","Object","values","details","every","el","Boolean","location","forms","advert","toLowerCase","includes","_filters$details","airConditioner","automatic","kitchen","TV","shower","transmission","form","getFilteredAdverts","length","filterUse","Loader","slice","AdvertListItem","ref","_id","onClick","prev","animateScroll","current","offsetTop","duration","smooth"],"sourceRoot":""}